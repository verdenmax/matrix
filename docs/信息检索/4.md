# 相关反馈及查询扩展

-- 提高召回率的方法

有些文档虽然不包含查询词项，但是可能是相关文档。

- 局部方法：对用户查询进行局部的即时的分析。相关反馈 relevance feedback

- 全局方法：进行一次全局分析，来产生同、近义词典。利用该词典进行扩展查询。


相关反馈的本质是将检索返回的文档相关性判定作为返回信息，希望提升检索效果。

## 相关反馈

1. 用户提交简短的查询
2. 搜索引擎返回一系列文档
3. 用户标记相关与不相关
4. 搜索引擎根据标记结果计算得到信息需求的一个新查询
5. 用新查询进行处理，返回新结果

有三种分类：用户相关反馈/显式相关反馈（用户显示参与交互）、隐式相关反馈（追踪用户行为，推测相关性）、伪相关反馈或盲相关反馈（没有用户参与，直接假设前k相关）

相关反馈的核心概念：矩心

矩心是一系列点的中心。而每个文档是高维空间中的点，因此直接计算矩心。

Rocchio算法：选择 $q = argmax [sim(q,\mu(D_r)) - sim(q,\mu(D_{nr}))]$，加入一些假设可以改写公式为$q = \mu(D_r) + (\mu(D_r) - \mu(D_{nr}))$

其中，$D_r$ 是相关文档集，$D_{nr}$ 是不相关文档集。最后式子的含义就是将相关文档的矩心移动相关矩心与不相关矩心的差异量，这个向量就是最优查询向量。

**这里很像k邻近分类**

实际上可以使用带权重的公式$q_m = \alpha q_0 + \beta \mu(D_r) + \gamma \mu(D_{nr})$。

新查询向相关文档靠拢而远离非相关文档。

什么时候相关反馈能提高召回率？

- 对于某些初始查询，用户知道在文档集中使用那些词项表达对应概念
- 相关文档中出现的词项类似（相关文档之间相似度高，相关文档与不相关文档之间的相似度很低）

## 查询扩展

Query expansion

指那些查询重构 query reformulation 的全局方法。主要使用同义词或近义词。

- 上面的基于相关反馈的局部查询扩展
- 人工词典：通过人工构建同义词词典
- 自动词典法：自动导出的同义词词典
- 查询日志：用户搜索记录等

基于词项相似度的扩展查询
。基于候选词和原始查询词词项共现的查询扩展。

将反馈文档集中与原始查询词项最相似的k个候选词加入查询中。



